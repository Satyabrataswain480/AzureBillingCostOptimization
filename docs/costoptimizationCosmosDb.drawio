<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/26.2.2 Chrome/134.0.6998.178 Electron/35.1.2 Safari/537.36" version="26.2.2">
  <diagram name="Page-1" id="oea5Tm7PwXKItTtQ0Bw0">
    <mxGraphModel dx="935" dy="1749" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-1" value="z" style="whiteSpace=wrap;html=1;aspect=fixed;fillColor=#F4F7FF;strokeColor=none;fillStyle=solid;" vertex="1" parent="1">
          <mxGeometry x="60" y="-70" width="750" height="750" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-2" value="" style="image;html=1;image=img/lib/clip_art/computers/Virtual_Application_128x128.png" vertex="1" parent="1">
          <mxGeometry x="80" y="40" width="75" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-3" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/databases/Azure_Cosmos_DB.svg;" vertex="1" parent="1">
          <mxGeometry x="373" y="200" width="68" height="68" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-17" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#9999FF;entryX=0.022;entryY=0.475;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;" edge="1" parent="1" source="cEFFgfjnjnyjCbzKoG2R-4" target="cEFFgfjnjnyjCbzKoG2R-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="398.1199999999999" y="75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-4" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=api" vertex="1" parent="1">
          <mxGeometry x="230" y="50" width="52.08" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-5" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/iot/Function_Apps.svg;" vertex="1" parent="1">
          <mxGeometry x="373" y="45" width="68" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-7" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/databases/Azure_Cosmos_DB.svg;" vertex="1" parent="1">
          <mxGeometry x="562" y="205" width="68" height="68" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-8" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/iot/Function_Apps.svg;" vertex="1" parent="1">
          <mxGeometry x="465" y="500" width="68" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-37" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;strokeColor=#9999FF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;entryX=0.537;entryY=1.015;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;" edge="1" parent="1" source="cEFFgfjnjnyjCbzKoG2R-9" target="cEFFgfjnjnyjCbzKoG2R-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="610" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="600" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-39" value="" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#9999FF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;entryX=0.404;entryY=0.971;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;" edge="1" parent="1" source="cEFFgfjnjnyjCbzKoG2R-9" target="cEFFgfjnjnyjCbzKoG2R-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="401" y="390" as="targetPoint" />
            <Array as="points">
              <mxPoint x="400" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-40" value="" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#9999FF,#66FFB3);align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;strokeWidth=2;dashed=1;" edge="1" parent="1" source="cEFFgfjnjnyjCbzKoG2R-9" target="cEFFgfjnjnyjCbzKoG2R-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-9" value="" style="shape=mxgraph.cisco.misc.generic_processor;html=1;pointerEvents=1;dashed=0;fillColor=#036897;strokeColor=#ffffff;strokeWidth=2;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="470" y="360" width="58" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-11" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.492;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#9999FF;fillColor=#E6FFCC;strokeWidth=2;" edge="1" parent="1" source="cEFFgfjnjnyjCbzKoG2R-2" target="cEFFgfjnjnyjCbzKoG2R-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="390" as="sourcePoint" />
            <mxPoint x="450" y="340" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-19" value="&lt;span style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;Client Applications&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=11;fontColor=#FF1456;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="87.5" y="110" width="62.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-21" value="&lt;span style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;Azure API Management&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=11;fontColor=#FF1456;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="222.07999999999998" y="110" width="67.92" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-22" value="&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;Azure Cosmos DB(Hot Tier)&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;Provisioned Throughput&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;Recent data (&amp;lt;3 Months)&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=11;fontColor=#FF1456;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="190" y="209" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-23" value="&lt;span style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;- Queries Hot Container first&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;- Falls back to cold container&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=11;fontColor=#FF1456;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="441" y="50" width="179" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-24" value="&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;Azure Cosmos DB(Cold Tier)&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;Serverless Mode&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;Archived data (&amp;gt;3 Months)&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=11;fontColor=#FF1456;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="630" y="213" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-42" value="" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#9999FF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;strokeWidth=2;" edge="1" parent="1" source="cEFFgfjnjnyjCbzKoG2R-25">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="408" y="199" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-49" value="" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#9999FF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;exitX=1;exitY=0.75;exitDx=0;exitDy=0;strokeWidth=2;dashed=1;" edge="1" parent="1" source="cEFFgfjnjnyjCbzKoG2R-25">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="596" y="200" as="targetPoint" />
            <Array as="points">
              <mxPoint x="596" y="128" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-25" value="&lt;span style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;Function App(Query Proxy)&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=11;fontColor=#FF1456;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="352" y="105" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-26" value="&lt;span style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;Change Feed&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=11;fontColor=#FF1456;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="453.08000000000004" y="330" width="79.92" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-27" value="&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;Azure Function (Archiver)&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;- Moves Old records to cold tier&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=11;fontColor=#FF1456;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="533" y="500" width="156.46" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-46" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;📊 &lt;b style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;Cosmos DB Tiered Architecture for Billing Optimization&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=11;fontColor=#0000CC;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="192" y="-30" width="466.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cEFFgfjnjnyjCbzKoG2R-50" style="edgeStyle=none;shape=connector;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#9999FF;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;" edge="1" parent="1" source="cEFFgfjnjnyjCbzKoG2R-1" target="cEFFgfjnjnyjCbzKoG2R-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
